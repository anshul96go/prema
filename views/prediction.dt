extends base

block body
	table
		tr
			th yes
			td #{pred.yes_shares}
		tr
			th no
			td #{pred.no_shares}
		tr
			th chance
			td #{pred.chance * 100}%
		tr
			th created
			td #{pred.created}
		tr
			th creator
			td
				a(href="/u/#{creator.id}") #{creator.name}
		tr
			th closes
			td #{pred.closes}
		- if (pred.settled != "")
			tr
				th settled
				td #{pred.settled}
	- if (!closed)
		form(method="POST")
			p
				select(name="buy_or_sell")
					option(value="buy") Buy
					option(value="sell") Sell
				input(type="text", value="0", name="amount")
				| shares of type
				select(name="type")
					option(value="yes") yes
					option(value="no") no
				| for
				span(class="price") 0.00â‚¬
				| which changes the chance to
				span(class="chance") #{pred.chance*100}%
				|.
			p
				button Do it
	- if (closed && !settled)
		p
			form(method="POST", action="/settle")
				input(type="hidden", name="predid", value="#{pred.id}")
				button(name="settlement", value="true") Settle as True
				| or
				button(name="settlement", value="false") Settle as False
	- if (closed && settled)
		p Prediction is settled.
	table
		- foreach (change; pred.changes)
			tr
				th #{change.date}
				td #{change.chance*100}%

